<!DOCTYPE html>
<html class="dark" lang="tr">
<head>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <title data-i18n="app-title">PC ParÃ§a Uyumluluk KontrolÃ¼</title>
    <link rel="icon" type="image/ico" href="Assets/Images/favicon.ico">
    <script src="https://cdn.tailwindcss.com?plugins=forms,typography"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Outlined" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet"/>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script>
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        primary: "#16a3b2",
                        "background-light": "#e5e7eb",
                        "background-dark": "#0d1117",
                        "surface-light": "#ffffff",
                        "surface-dark": "rgb(31, 41, 55)",
                    },
                    fontFamily: {
                        display: ["Poppins", "sans-serif"],
                    },
                    borderRadius: {
                        DEFAULT: "0.5rem",
                    },
                },
            },
        };
    </script>
    <style>
        .material-symbols-outlined { font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 24; }
        .transition-default { transition: color 0.3s, background-color 0.3s, border-color 0.3s, box-shadow 0.3s; }
        .icon-transition { transition: opacity 0.3s, transform 0.3s; }
        body { min-height: max(884px, 100dvh); }
        
        /* SweetAlert KaranlÄ±k Mod */
        div:where(.swal2-container) div:where(.swal2-popup) {
            background: #1f2937 !important; color: #e5e7eb !important; border: 1px solid #374151;
        }
    </style>
</head>
<body class="bg-background-light dark:bg-background-dark font-display text-gray-900 dark:text-gray-200 antialiased transition-default">
<div class="flex flex-col min-h-screen">
    <header class="w-full px-4 md:px-8 py-4 border-b border-gray-200 dark:border-gray-800/50 transition-default">
        <nav class="container mx-auto flex justify-between items-center">
            <a class="flex items-center gap-2 text-xl font-bold text-gray-900 dark:text-white" href="anasayfa.html">
                <img src="Assets/Images/logo.webp" alt="PCPartsBuild Logo" class="h-14 transition-all duration-300 filter brightness-50 dark:filter-none">
            </a>

            <div class="hidden md:flex items-center gap-8 text-sm font-medium text-gray-600 dark:text-gray-300">
                <a class="text-gray-600 dark:text-white/80 text-sm font-medium leading-normal transition-colors hover:text-gray-900 dark:hover:text-white" href="pts.html" data-i18n="nav-wizard">PC Toplama SihirbazÄ±</a>
                <a class="text-primary dark:text-primary text-sm font-medium leading-normal transition-colors" href="puk.html" data-i18n="nav-compatibility">ParÃ§a Uyumluluk KontrolÃ¼</a>
                <a class="text-gray-600 dark:text-white/80 text-sm font-medium leading-normal transition-colors hover:text-gray-900 dark:hover:text-white" href="pbg.html" data-i18n="nav-info">PC BileÅŸenleri</a>
            </div>
            
            <div class="flex items-center gap-2">
                <a id="signup-button" href="kaydol.html" class="bg-primary text-white px-4 py-2 rounded-lg text-sm font-semibold hover:opacity-90 transition-opacity" data-i18n="auth-signup">KayÄ±t Ol</a>
                <a id="login-button" href="giris.html" class="bg-gray-200 border border-gray-300 text-gray-900 px-4 py-2 rounded-lg text-sm font-semibold hover:bg-gray-300 transition-colors dark:bg-gray-700/50 dark:border-gray-600/80 dark:text-white dark:hover:bg-gray-700" data-i18n="auth-login">GiriÅŸ Yap</a>

                <div id="languageSelector" class="relative">
                    <button id="languageButton" class="flex cursor-pointer items-center justify-center overflow-hidden rounded-lg h-10 w-10 bg-gray-200 border border-gray-300 text-gray-900 transition-colors hover:bg-gray-300 dark:bg-gray-700/50 dark:border-gray-600/80 dark:text-white dark:hover:bg-gray-700">
                        <span class="material-symbols-outlined text-xl">language</span>
                    </button>
                    <div id="languageDropdown" class="absolute right-0 top-full pt-1 w-32 bg-white border border-gray-300 rounded-lg shadow-xl overflow-hidden z-20 hidden dark:bg-gray-800/80 dark:border-gray-700">
                        <a href="#" data-lang="tr" class="language-option block px-4 py-2 text-sm text-gray-900 font-medium hover:bg-primary/80 hover:text-white transition-colors duration-150 dark:text-gray-200">TÃ¼rkÃ§e (TR)</a>
                        <a href="#" data-lang="en" class="language-option block px-4 py-2 text-sm text-gray-900 font-medium hover:bg-primary/80 hover:text-white transition-colors duration-150 dark:text-gray-200">English (EN)</a>
                    </div>
                </div>

                <div id="account-section" class="relative hidden"> 
                    <button id="account_circle" class="flex material-icons-outlined cursor-pointer items-center justify-center overflow-hidden rounded-lg h-10 w-10 bg-white/10 text-white text-xl font-bold leading-normal tracking-[0.015em] transition-colors hover:bg-white/20">
                        <span>account_circle</span>
                    </button>
                    <div id="profileDropdown" class="absolute right-0 top-full pt-1 w-48 bg-white border border-gray-300 rounded-lg shadow-xl overflow-hidden z-20 hidden dark:bg-gray-800/80 dark:border-gray-700">
                        <div class="px-4 py-3 border-b border-gray-200 dark:border-gray-700">
                            <p class="text-sm text-gray-600 dark:text-gray-400" data-i18n="auth-welcome">HoÅŸ geldin,</p>
                            <p id="welcome-username" class="text-sm font-medium text-gray-900 dark:text-white truncate">KullanÄ±cÄ±</p>
                        </div>
                        <a href="profil.html" class="block px-4 py-2 text-sm text-gray-900 font-medium hover:bg-primary/80 hover:text-white transition-colors duration-150 dark:text-gray-200" data-i18n="nav-profile">HesabÄ±m</a>
                        <a href="#" id="logout-button" class="block w-full text-left px-4 py-2 text-sm text-red-600 font-medium hover:bg-red-500 hover:text-white transition-colors duration-150 dark:text-red-400 dark:hover:bg-red-500/50">
                            <span data-i18n="auth-logout">Ã‡Ä±kÄ±ÅŸ Yap</span>
                        </a>
                    </div>
                </div>
                
                <button id="darkModeButton" class="relative flex cursor-pointer items-center justify-center overflow-hidden rounded-lg h-10 w-10 bg-gray-200 border border-gray-300 text-gray-900 transition-colors hover:bg-gray-300 dark:bg-gray-700/50 dark:border-gray-600/80 dark:text-white dark:hover:bg-gray-700">
                    <span id="moonIcon" class="material-symbols-outlined text-xl icon-transition absolute opacity-0 scale-75 dark:opacity-100 dark:scale-100">dark_mode</span>
                    <span id="sunIcon" class="material-symbols-outlined text-xl icon-transition absolute opacity-100 scale-100 dark:opacity-0 dark:scale-75">light_mode</span>
                </button>
            </div>
        </nav>
    </header>

    <main class="flex-grow container mx-auto px-4 py-8 md:py-12">
    <div class="text-center max-w-3xl mx-auto mb-12">
        <h1 class="text-3xl md:text-5xl font-bold text-gray-900 dark:text-white tracking-tight mb-4" data-i18n="main-title">
            PC Uyumluluk KontrolÃ¼
        </h1>
        <p class="text-lg text-gray-600 dark:text-gray-400" data-i18n="main-subtitle">
            Sisteminizi aÅŸaÄŸÄ±daki slotlara yerleÅŸtirin. Yapay zeka ve algoritmalarÄ±mÄ±z parÃ§alarÄ±nÄ±zÄ±n uyumunu anÄ±nda denetlesin.
        </p>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-6 mb-12">
        
        <div class="component-card group relative bg-white dark:bg-gray-800 rounded-xl border-2 border-dashed border-gray-300 dark:border-gray-700 p-5 transition-all duration-300 hover:border-primary/50 hover:shadow-lg hover:shadow-primary/5">
            <div class="flex items-center gap-3 mb-3">
                <div class="p-2.5 bg-blue-50 dark:bg-blue-900/20 rounded-lg text-blue-600 dark:text-blue-400">
                    <span class="material-symbols-outlined text-2xl">memory</span>
                </div>
                <h3 class="font-semibold text-gray-900 dark:text-white" data-i18n="label-cpu">Ä°ÅŸlemci</h3>
            </div>
            <select id="cpu" class="w-full bg-gray-50 dark:bg-gray-900 border border-gray-300 dark:border-gray-700 text-gray-900 dark:text-gray-100 text-sm rounded-lg focus:ring-primary focus:border-primary block p-2.5 transition-colors cursor-pointer">
                <option value="" selected data-i18n="select-default">SeÃ§im YapÄ±nÄ±z...</option>
                </select>
            <p id="error-cpu" class="hidden mt-2 text-xs text-red-500 font-medium flex items-center gap-1">
                <span class="material-symbols-outlined text-[14px]">error</span> <span class="error-text"></span>
            </p>
        </div>

        <div class="component-card group relative bg-white dark:bg-gray-800 rounded-xl border-2 border-dashed border-gray-300 dark:border-gray-700 p-5 transition-all duration-300 hover:border-primary/50 hover:shadow-lg hover:shadow-primary/5">
            <div class="flex items-center gap-3 mb-3">
                <div class="p-2.5 bg-indigo-50 dark:bg-indigo-900/20 rounded-lg text-indigo-600 dark:text-indigo-400">
                    <span class="material-symbols-outlined text-2xl">developer_board</span>
                </div>
                <h3 class="font-semibold text-gray-900 dark:text-white" data-i18n="label-motherboard">Anakart</h3>
            </div>
            <select id="motherboard" class="w-full bg-gray-50 dark:bg-gray-900 border border-gray-300 dark:border-gray-700 text-gray-900 dark:text-gray-100 text-sm rounded-lg focus:ring-primary focus:border-primary block p-2.5 transition-colors cursor-pointer">
                <option value="" selected data-i18n="select-default">SeÃ§im YapÄ±nÄ±z...</option>
            </select>
            <p id="error-motherboard" class="hidden mt-2 text-xs text-red-500 font-medium flex items-center gap-1">
                <span class="material-symbols-outlined text-[14px]">error</span> <span class="error-text"></span>
            </p>
        </div>

        <div class="component-card group relative bg-white dark:bg-gray-800 rounded-xl border-2 border-dashed border-gray-300 dark:border-gray-700 p-5 transition-all duration-300 hover:border-primary/50 hover:shadow-lg hover:shadow-primary/5">
            <div class="flex items-center gap-3 mb-3">
                <div class="p-2.5 bg-green-50 dark:bg-green-900/20 rounded-lg text-green-600 dark:text-green-400">
                    <span class="material-symbols-outlined text-2xl">straighten</span> </div>
                <h3 class="font-semibold text-gray-900 dark:text-white" data-i18n="label-ram">Bellek (RAM)</h3>
            </div>
            <select id="ram" class="w-full bg-gray-50 dark:bg-gray-900 border border-gray-300 dark:border-gray-700 text-gray-900 dark:text-gray-100 text-sm rounded-lg focus:ring-primary focus:border-primary block p-2.5 transition-colors cursor-pointer">
                <option value="" selected data-i18n="select-default">SeÃ§im YapÄ±nÄ±z...</option>
            </select>
            <p id="error-ram" class="hidden mt-2 text-xs text-red-500 font-medium flex items-center gap-1">
                <span class="material-symbols-outlined text-[14px]">error</span> <span class="error-text"></span>
            </p>
        </div>

        <div class="component-card group relative bg-white dark:bg-gray-800 rounded-xl border-2 border-dashed border-gray-300 dark:border-gray-700 p-5 transition-all duration-300 hover:border-primary/50 hover:shadow-lg hover:shadow-primary/5">
            <div class="flex items-center gap-3 mb-3">
                <div class="p-2.5 bg-purple-50 dark:bg-purple-900/20 rounded-lg text-purple-600 dark:text-purple-400">
                    <span class="material-symbols-outlined text-2xl">videogame_asset</span>
                </div>
                <h3 class="font-semibold text-gray-900 dark:text-white" data-i18n="type-gpu">Ekran KartÄ±</h3>
            </div>
            <select id="gpu" class="w-full bg-gray-50 dark:bg-gray-900 border border-gray-300 dark:border-gray-700 text-gray-900 dark:text-gray-100 text-sm rounded-lg focus:ring-primary focus:border-primary block p-2.5 transition-colors cursor-pointer">
                <option value="" selected data-i18n="select-default">SeÃ§im YapÄ±nÄ±z...</option>
            </select>
            <p id="error-gpu" class="hidden mt-2 text-xs text-red-500 font-medium flex items-center gap-1">
                <span class="material-symbols-outlined text-[14px]">error</span> <span class="error-text"></span>
            </p>
        </div>

        <div class="component-card group relative bg-white dark:bg-gray-800 rounded-xl border-2 border-dashed border-gray-300 dark:border-gray-700 p-5 transition-all duration-300 hover:border-primary/50 hover:shadow-lg hover:shadow-primary/5">
            <div class="flex items-center gap-3 mb-3">
                <div class="p-2.5 bg-orange-50 dark:bg-orange-900/20 rounded-lg text-orange-600 dark:text-orange-400">
                    <span class="material-symbols-outlined text-2xl">hard_drive</span>
                </div>
                <h3 class="font-semibold text-gray-900 dark:text-white" data-i18n="type-storage">Depolama</h3>
            </div>
            <select id="storage" class="w-full bg-gray-50 dark:bg-gray-900 border border-gray-300 dark:border-gray-700 text-gray-900 dark:text-gray-100 text-sm rounded-lg focus:ring-primary focus:border-primary block p-2.5 transition-colors cursor-pointer">
                <option value="" selected data-i18n="select-default">SeÃ§im YapÄ±nÄ±z...</option>
            </select>
            <p id="error-storage" class="hidden mt-2 text-xs text-red-500 font-medium flex items-center gap-1">
                <span class="material-symbols-outlined text-[14px]">error</span> <span class="error-text"></span>
            </p>
        </div>

        <div class="component-card group relative bg-white dark:bg-gray-800 rounded-xl border-2 border-dashed border-gray-300 dark:border-gray-700 p-5 transition-all duration-300 hover:border-primary/50 hover:shadow-lg hover:shadow-primary/5">
            <div class="flex items-center gap-3 mb-3">
                <div class="p-2.5 bg-gray-100 dark:bg-gray-700 rounded-lg text-gray-600 dark:text-gray-300">
                    <span class="material-symbols-outlined text-2xl">computer</span>
                </div>
                <h3 class="font-semibold text-gray-900 dark:text-white" data-i18n="tab-case">Kasa</h3>
            </div>
            <select id="case" class="w-full bg-gray-50 dark:bg-gray-900 border border-gray-300 dark:border-gray-700 text-gray-900 dark:text-gray-100 text-sm rounded-lg focus:ring-primary focus:border-primary block p-2.5 transition-colors cursor-pointer">
                <option value="" selected data-i18n="select-default">SeÃ§im YapÄ±nÄ±z...</option>
            </select>
            <p id="error-case" class="hidden mt-2 text-xs text-red-500 font-medium flex items-center gap-1">
                <span class="material-symbols-outlined text-[14px]">error</span> <span class="error-text"></span>
            </p>
        </div>

        <div class="component-card group relative bg-white dark:bg-gray-800 rounded-xl border-2 border-dashed border-gray-300 dark:border-gray-700 p-5 transition-all duration-300 hover:border-primary/50 hover:shadow-lg hover:shadow-primary/5">
            <div class="flex items-center gap-3 mb-3">
                <div class="p-2.5 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg text-yellow-600 dark:text-yellow-400">
                    <span class="material-symbols-outlined text-2xl">power</span>
                </div>
                <h3 class="font-semibold text-gray-900 dark:text-white" data-i18n="label-psu">GÃ¼Ã§ KaynaÄŸÄ±</h3>
            </div>
            <select id="psu" class="w-full bg-gray-50 dark:bg-gray-900 border border-gray-300 dark:border-gray-700 text-gray-900 dark:text-gray-100 text-sm rounded-lg focus:ring-primary focus:border-primary block p-2.5 transition-colors cursor-pointer">
                <option value="" selected data-i18n="select-default">SeÃ§im YapÄ±nÄ±z...</option>
            </select>
            <p id="error-psu" class="hidden mt-2 text-xs text-red-500 font-medium flex items-center gap-1">
                <span class="material-symbols-outlined text-[14px]">error</span> <span class="error-text"></span>
            </p>
        </div>

        <div class="component-card group relative bg-white dark:bg-gray-800 rounded-xl border-2 border-dashed border-gray-300 dark:border-gray-700 p-5 transition-all duration-300 hover:border-primary/50 hover:shadow-lg hover:shadow-primary/5">
            <div class="flex items-center gap-3 mb-3">
                <div class="p-2.5 bg-cyan-50 dark:bg-cyan-900/20 rounded-lg text-cyan-600 dark:text-cyan-400">
                    <span class="material-symbols-outlined text-2xl">mode_fan</span>
                </div>
                <h3 class="font-semibold text-gray-900 dark:text-white" data-i18n="type-cooler">SoÄŸutucu</h3>
            </div>
            <select id="cpuCooler" class="w-full bg-gray-50 dark:bg-gray-900 border border-gray-300 dark:border-gray-700 text-gray-900 dark:text-gray-100 text-sm rounded-lg focus:ring-primary focus:border-primary block p-2.5 transition-colors cursor-pointer">
                <option value="" selected data-i18n="select-default">SeÃ§im YapÄ±nÄ±z...</option>
            </select>
            <p id="error-cpuCooler" class="hidden mt-2 text-xs text-red-500 font-medium flex items-center gap-1">
                <span class="material-symbols-outlined text-[14px]">error</span> <span class="error-text"></span>
            </p>
        </div>

    </div>

    <div class="text-center mb-12">
        <button id="checkCompatibilityBtn" class="bg-primary text-white font-bold py-3.5 px-10 rounded-xl text-lg hover:bg-primary/90 hover:scale-105 transition-all shadow-xl shadow-primary/25" data-i18n="action-check">
            UyumluluÄŸu Kontrol Et
        </button>
        <button id="expertOpinionButton" class="bg-indigo-600 text-white font-bold py-3.5 px-10 rounded-xl text-lg hover:bg-indigo-700 hover:scale-105 transition-all shadow-xl shadow-indigo-600/30 disabled:opacity-50 disabled:hover:scale-100 mt-4 md:mt-0 md:ml-4" disabled data-i18n="action-expert">
            ParÃ§a Uzman GÃ¶rÃ¼ÅŸÃ¼ Al âœ¨
        </button>
    </div>

    <div class="max-w-5xl mx-auto">
        <div id="results-container" class="bg-surface-light dark:bg-surface-dark p-6 md:p-8 rounded-2xl border border-gray-200 dark:border-gray-800/80 shadow-2xl transition-default">
            
            <h2 class="text-2xl font-bold text-gray-900 dark:text-white mb-6 border-b border-gray-100 dark:border-gray-800 pb-4" data-i18n="results-title">Kontrol SonuÃ§larÄ±</h2>

            <div id="result-info" class="flex flex-col md:flex-row items-center gap-6 p-6 rounded-xl bg-sky-50 border border-sky-200 dark:bg-sky-900/20 dark:border-sky-800/50">
                <div class="flex-shrink-0 p-3 bg-sky-100 dark:bg-sky-900/50 rounded-full">
                    <span class="material-symbols-outlined text-3xl text-sky-600 dark:text-sky-400">info</span>
                </div>
                <div class="text-center md:text-left">
                    <h3 class="text-lg font-bold text-sky-800 dark:text-sky-300" data-i18n="result-info-title">Sistem HazÄ±r Bekliyor</h3>
                    <p class="mt-1 text-sky-700 dark:text-sky-400 text-sm" data-i18n="result-info-text">
                        Analize baÅŸlamak iÃ§in yukarÄ±daki slotlara en az iki parÃ§a (Ã–rn: Ä°ÅŸlemci ve Anakart) yerleÅŸtirin.
                    </p>
                </div>
            </div>

            <div id="result-success" class="hidden flex-col md:flex-row items-center gap-6 p-6 rounded-xl bg-emerald-50 border border-emerald-200 dark:bg-emerald-900/20 dark:border-emerald-800/50">
                <div class="flex-shrink-0 p-3 bg-emerald-100 dark:bg-emerald-900/50 rounded-full">
                    <span class="material-symbols-outlined text-3xl text-emerald-600 dark:text-emerald-400">verified</span>
                </div>
                <div class="text-center md:text-left">
                    <h3 class="text-lg font-bold text-emerald-800 dark:text-emerald-300" data-i18n="result-success-title">MÃ¼kemmel Uyum!</h3>
                    <p id="success-text" class="mt-1 text-emerald-700 dark:text-emerald-400 text-sm"></p>
                </div>
            </div>
            
            <div id="result-fail" class="hidden flex-col md:flex-row items-start gap-6 p-6 rounded-xl bg-red-50 border border-red-200 dark:bg-red-900/20 dark:border-red-800/50">
                <div class="flex-shrink-0 p-3 bg-red-100 dark:bg-red-900/50 rounded-full">
                    <span class="material-symbols-outlined text-3xl text-red-600 dark:text-red-400">warning</span>
                </div>
                <div class="w-full">
                    <h3 class="text-lg font-bold text-red-800 dark:text-red-300" data-i18n="result-fail-title">Uyumsuzluk Tespit Edildi</h3>
                    <ul id="fail-reasons" class="mt-3 space-y-2 text-sm text-red-700 dark:text-red-400"></ul>
                </div>
            </div>

        </div>
    </div>
</main>

    <footer class="w-full mt-20 py-8 border-t border-gray-200 dark:border-gray-800">
        <div class="container mx-auto text-center text-gray-500 dark:text-gray-400 text-sm">
            <p>Â© 2025 PCPartsBuild. TÃ¼m HaklarÄ± SaklÄ±dÄ±r. Bize UlaÅŸÄ±n: <a class="text-primary hover:underline" href="mailto:pcpartsbuild@gmail.com">pcpartsbuild@gmail.com</a></p>
        </div>
    </footer>
</div>

<div id="geminiModal" class="fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center p-4 hidden z-50">
    <div class="bg-white dark:bg-gray-900 rounded-xl shadow-2xl max-w-2xl w-full p-6 max-h-[90vh] overflow-y-auto">
        <div class="flex justify-between items-center border-b pb-3 mb-4 border-gray-200 dark:border-gray-700">
            <h3 id="modalTitle" class="text-xl font-bold text-gray-900 dark:text-white" data-i18n="action-expert">ParÃ§a Uzman GÃ¶rÃ¼ÅŸÃ¼ Al</h3>
            <button onclick="closeModal()" class="text-gray-500 hover:text-gray-700 dark:hover:text-gray-300">
                <span class="material-symbols-outlined">close</span>
            </button>
        </div>
        <div id="modalContent" class="text-gray-700 dark:text-gray-300 whitespace-pre-wrap"></div>
    </div>
</div>

<script>
    // Axios kÃ¼tÃ¼phanesini dahil et
    document.write('<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></' + 'script>');

    // Ã‡eviri SÃ¶zlÃ¼ÄŸÃ¼
    const translations = {
        tr: {
            "app-title": "PC ParÃ§a Uyumluluk KontrolÃ¼",
            "nav-wizard": "PC Toplama SihirbazÄ±",
            "nav-compatibility": "ParÃ§a Uyumluluk KontrolÃ¼",
            "nav-info": "PC BileÅŸenleri",
            "auth-signup": "KayÄ±t Ol",
            "auth-login": "GiriÅŸ Yap",
            "auth-welcome": "HoÅŸ geldin,",
            "nav-profile": "HesabÄ±m",
            "auth-logout": "Ã‡Ä±kÄ±ÅŸ Yap",
            "main-title": "PC ParÃ§a Uyumluluk KontrolÃ¼",
            "main-subtitle": "Yeni bir parÃ§a almadan Ã¶nce mevcut sisteminizle uyumlu olup olmadÄ±ÄŸÄ±nÄ± anÄ±nda Ã¶ÄŸrenin.",
            "current-title": "Mevcut Sistem BileÅŸenleriniz",
            "label-cpu": "Ä°ÅŸlemci (CPU)",
            "label-motherboard": "Anakart",
            "label-ram": "Bellek (RAM)",
            "label-psu": "GÃ¼Ã§ KaynaÄŸÄ± (PSU)",
            "new-title": "Yeni BileÅŸen",
            "label-type": "BileÅŸen TÃ¼rÃ¼",
            "type-gpu": "Ekran KartÄ± (GPU)",
            "type-storage": "Depolama (SSD/HDD)",
            "type-cooler": "SoÄŸutucu",
            "label-component": "Kontrol Edilecek BileÅŸen",
            "select-default": "SeÃ§im yapÄ±nÄ±z...",
            "action-check": "UyumluluÄŸu Kontrol Et",
            "action-expert": "ParÃ§a Uzman GÃ¶rÃ¼ÅŸÃ¼ Al âœ¨",
            "results-title": "Kontrol SonuÃ§larÄ±",
            "result-success-title": "Tebrikler, Sisteminiz Uyumlu!",
            "result-success-text": "SeÃ§tiÄŸiniz ekran kartÄ±, mevcut sistem bileÅŸenleriniz ile tamamen uyumludur. Herhangi bir sorun yaÅŸamadan montaj yapabilirsiniz.",
            "fail-reason-1": "<strong class=\"font-medium\">Anakart Soketi:</strong> SeÃ§ilen iÅŸlemci, anakartÄ±nÄ±zÄ±n LGA1200 soketi ile uyumlu deÄŸil. LGA1700 soketli bir anakart gereklidir.",
            "fail-reason-2": "<strong class=\"font-medium\">GÃ¼Ã§ KaynaÄŸÄ±:</strong> SeÃ§ilen ekran kartÄ± iÃ§in Ã¶nerilen minimum gÃ¼Ã§ kaynaÄŸÄ± 850W'tÄ±r. Mevcut 750W gÃ¼Ã§ kaynaÄŸÄ±nÄ±z yetersiz kalabilir.",
            "result-info-title": "Bilgilendirme",
            "result-info-text": "Kontrole baÅŸlamak iÃ§in lÃ¼tfen yukarÄ±daki alanlardan mevcut sisteminizi ve kontrol etmek istediÄŸiniz yeni parÃ§ayÄ± seÃ§in.",
            "error-api": "Analiz alÄ±namadÄ±. LÃ¼tfen daha sonra tekrar deneyin.",
            "error-selection": "LÃ¼tfen analiz iÃ§in mevcut sistemden en az 1 parÃ§a ve yeni bileÅŸen seÃ§in.",
            "loading-text": "Analiz ediliyor..."
        },
        en: {
            "app-title": "PC Part Compatibility Check",
            "nav-wizard": "PC Build Wizard",
            "nav-compatibility": "Part Compatibility Check",
            "nav-info": "PC Components",
            "auth-signup": "Sign Up",
            "auth-login": "Log In",
            "auth-welcome": "Welcome,",
            "nav-profile": "My Account",
            "auth-logout": "Log Out",
            "main-title": "PC Part Compatibility Check",
            "main-subtitle": "Instantly find out if a new component is compatible with your current system before you buy it.",
            "current-title": "Your Current System Components",
            "label-cpu": "Processor (CPU)",
            "label-motherboard": "Motherboard",
            "label-ram": "Memory (RAM)",
            "label-psu": "Power Supply (PSU)",
            "new-title": "New Component",
            "label-type": "Component Type",
            "type-gpu": "Graphics Card (GPU)",
            "type-storage": "Storage (SSD/HDD)",
            "type-cooler": "Cooler",
            "label-component": "Component to Check",
            "select-default": "Select a component...",
            "action-check": "Check Compatibility",
            "action-expert": "Get Expert Part Opinion âœ¨",
            "results-title": "Check Results",
            "result-success-title": "Congratulations, Your System is Compatible!",
            "result-success-text": "The selected graphics card is fully compatible with your current system components. You can proceed with assembly without any issues.",
            "fail-reason-1": "<strong class=\"font-medium\">Motherboard Socket:</strong> The selected processor is not compatible with your motherboard's LGA1200 socket. An LGA1700 socket motherboard is required.",
            "fail-reason-2": "<strong class=\"font-medium\">Power Supply:</strong> The recommended minimum power supply for the selected graphics card is 850W. Your current 750W PSU might be insufficient.",
            "result-info-title": "Information",
            "result-info-text": "To start the check, please select your current system and the new part you want to check from the fields above.",
            "error-api": "Could not retrieve analysis. Please try again later.",
            "error-selection": "Please select at least 1 current part and the new component for analysis."
        }
    };
    
    translations.tr["analysis-prompt-title"] = "AÅŸaÄŸÄ±daki mevcut sistem bileÅŸenleri gÃ¶z Ã¶nÃ¼ne alÄ±ndÄ±ÄŸÄ±nda, yeni bileÅŸenin uyumluluÄŸunu, faydalarÄ±nÄ±, olasÄ± darboÄŸazlarÄ± ve teknik uyumunu (soket/gÃ¼Ã§ vb.) analiz et ve Markdown formatÄ±nda yanÄ±tla.";
    translations.en["analysis-prompt-title"] = "Considering the existing system components below, analyze the compatibility, benefits, potential bottlenecks, and technical fit (socket/power, etc.) of the new component, and respond in Markdown format.";

    // Gemini API
    const API_URL = "https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=";
    const API_KEY = ""; // Buraya kendi API anahtarÄ±nÄ± gireceksin
    const MAX_RETRIES = 5;

    const getModalElements = () => ({
        modal: document.getElementById('geminiModal'),
        modalContent: document.getElementById('modalContent'),
        modalTitle: document.getElementById('modalTitle')
    });

    const openModal = (title, content, isLoading = false) => {
        const { modal, modalTitle, modalContent } = getModalElements();
        modalTitle.textContent = title;
        modalContent.innerHTML = isLoading 
            ? `<div class="flex items-center justify-center space-x-2 text-primary">
                   <svg class="animate-spin h-5 w-5 mr-3" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4" fill="none" class="opacity-25"></circle><path fill="currentColor" class="opacity-75" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg>
                   <span data-i18n="loading-text">Analiz ediliyor...</span>
                 </div>`
            : content;
        modal.classList.remove('hidden');
    };

    const closeModal = () => {
        const { modal } = getModalElements();
        modal.classList.add('hidden');
    };

    const callGeminiAPI = async (prompt, retries = 0) => {
        try {
            const payload = {
                contents: [{ parts: [{ text: prompt }] }],
                systemInstruction: { parts: [{ text: "You are a specialized PC component expert. Analyze the selected part's impact on the existing system, focusing on benefits, potential bottlenecks, and technical fit. Respond using Markdown." }] }
            };
            const response = await fetch(API_URL + API_KEY, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(payload)
            });
            if (!response.ok) {
                if (response.status === 429 && retries < MAX_RETRIES) {
                    const delay = Math.pow(2, retries) * 1000;
                    console.warn(`API Rate Limit. Retrying in ${delay / 1000}s...`);
                    await new Promise(resolve => setTimeout(resolve, delay));
                    return callGeminiAPI(prompt, retries + 1);
                }
                throw new Error(`HTTP error! status: ${response.status}`);
            }
            const result = await response.json();
            const text = result.candidates?.[0]?.content?.parts?.[0]?.text || translations[localStorage.getItem('lang') || 'tr']['error-api'];
            return text;
        } catch (error) {
            console.error("Gemini API Error:", error);
            return translations[localStorage.getItem('lang') || 'tr']['error-api'];
        }
    };

    const getExpertOpinion = async () => {
        const currentLang = localStorage.getItem('lang') || 'tr';
        const currentCpu = document.getElementById('cpu').value;
        const currentMotherboard = document.getElementById('motherboard').value;
        const currentRam = document.getElementById('ram').value;
        const currentPsu = document.getElementById('psu').value;
        const newComponentType = document.getElementById('new-component-type').value;
        const newComponent = document.getElementById('new-component').value;
        const defaultText = translations[currentLang]['select-default'];
        
        const existingParts = [currentCpu, currentMotherboard, currentRam, currentPsu].filter(val => val !== defaultText);
        
        if (existingParts.length === 0 || newComponent === defaultText) {
            // SweetAlert ile hata gÃ¶sterimi (Daha modern)
            Swal.fire({
                title: 'Eksik Bilgi',
                text: translations[currentLang]['error-selection'],
                icon: 'warning',
                background: '#1f2937',
                color: '#fff',
                confirmButtonColor: '#16a3b2'
            });
            return;
        }
        
        const systemParts = existingParts.join(', ');
        const prompt = `${translations[currentLang]['analysis-prompt-title']}\n\nMevcut Sistem: ${systemParts}\nYeni BileÅŸen: ${newComponentType} - ${newComponent}`;
        
        openModal(translations[currentLang]['action-expert'], '', true);
        const resultText = await callGeminiAPI(prompt);
        openModal(translations[currentLang]['action-expert'], resultText);
    };

    const checkExpertButtonStatus = () => {
        const expertButton = document.getElementById('expertOpinionButton');
        const currentCpu = document.getElementById('cpu').value;
        const newComponent = document.getElementById('new-component').value;
        const currentLang = localStorage.getItem('lang') || 'tr';
        const defaultText = translations[currentLang]['select-default'];
        const isReady = currentCpu !== defaultText && newComponent !== defaultText;
        expertButton.disabled = !isReady;
    }

    // Dil ve Tema
    const setLanguage = (lang) => {
        localStorage.setItem('lang', lang);
        document.documentElement.lang = lang;
        document.querySelectorAll('[data-i18n]').forEach(element => {
            const key = element.getAttribute('data-i18n');
            const translation = translations[lang][key];
            if (translation) {
                if (key.includes('fail-reason')) {
                    element.innerHTML = translation;
                } else {
                    element.textContent = translation;
                }
            }
        });
        document.querySelectorAll('[data-i18n-placeholder]').forEach(element => {
            const key = element.getAttribute('data-i18n-placeholder');
            const translation = translations[lang][key];
            if (translation) element.placeholder = translation;
        });
        document.title = translations[lang]["app-title"];
        document.querySelectorAll('option[data-i18n="select-default"]').forEach(opt => {
            opt.textContent = translations[lang]['select-default'];
        });
        
        const typeGpu = document.querySelector('option[data-i18n="type-gpu"]');
        if (typeGpu) typeGpu.textContent = translations[lang]['type-gpu'];
        const typeStorage = document.querySelector('option[data-i18n="type-storage"]');
        if (typeStorage) typeStorage.textContent = translations[lang]['type-storage'];
        const typeCooler = document.querySelector('option[data-i18n="type-cooler"]');
        if (typeCooler) typeCooler.textContent = translations[lang]['type-cooler'];

        checkExpertButtonStatus();
    };

    const toggleDarkMode = () => {
        const html = document.documentElement;
        const sunIcon = document.getElementById('sunIcon');
        const moonIcon = document.getElementById('moonIcon');
        const accountCircleButton = document.getElementById('account_circle');
        const isDarkMode = html.classList.contains('dark');
        const newTheme = isDarkMode ? 'light' : 'dark';
        if (isDarkMode) {
            html.classList.remove('dark');
            if (accountCircleButton) {
                accountCircleButton.classList.remove('bg-white/10', 'text-white'); 
                accountCircleButton.classList.add('bg-gray-900/10', 'text-gray-900', 'dark:bg-white/10', 'dark:text-white');
            }
        } else {
            html.classList.add('dark');
            if (accountCircleButton) {
                accountCircleButton.classList.remove('bg-gray-900/10', 'text-gray-900', 'dark:bg-white/10', 'dark:text-white'); 
                accountCircleButton.classList.add('bg-white/10', 'text-white');
            }
        }
        localStorage.setItem('theme_builder', newTheme);
        if (sunIcon && moonIcon) {
            if (newTheme === 'light') {
                moonIcon.classList.remove('opacity-100', 'scale-100');
                moonIcon.classList.add('opacity-0', 'scale-75');
                sunIcon.classList.remove('opacity-0', 'scale-75');
                sunIcon.classList.add('opacity-100', 'scale-100'); 
            } else {
                sunIcon.classList.remove('opacity-100', 'scale-100'); 
                sunIcon.classList.add('opacity-0', 'scale-75'); 
                moonIcon.classList.remove('opacity-0', 'scale-75');
                moonIcon.classList.add('opacity-100', 'scale-100');
            }
        }
    };

    const initializeTheme = (key = 'theme_builder') => {
        const html = document.documentElement;
        const savedTheme = localStorage.getItem(key);
        const sunIcon = document.getElementById('sunIcon');
        const moonIcon = document.getElementById('moonIcon');
        const accountCircleButton = document.getElementById('account_circle');
        let isDark = false;
        if (savedTheme === 'dark') {
            html.classList.add('dark');
            isDark = true;
        } else if (savedTheme === 'light') {
            html.classList.remove('dark');
            isDark = false;
        } else if (html.classList.contains('dark')) {
            localStorage.setItem(key, 'dark');
            isDark = true;
        } else {
            localStorage.setItem(key, 'light');
            isDark = false;
        }
        if (accountCircleButton) {
            accountCircleButton.classList.remove('bg-white/10', 'text-white', 'bg-gray-900/10', 'text-gray-900', 'dark:bg-white/10', 'dark:text-white');
            if (isDark) {
                accountCircleButton.classList.add('bg-white/10', 'text-white'); 
            } else {
                accountCircleButton.classList.add('bg-gray-900/10', 'text-gray-900', 'dark:bg-white/10', 'dark:text-white'); 
            }
        }
        if (sunIcon && moonIcon) {
            if (isDark) {
                moonIcon.classList.add('opacity-100', 'scale-100');
                sunIcon.classList.add('opacity-0', 'scale-75');
            } else {
                sunIcon.classList.add('opacity-100', 'scale-100');
                moonIcon.classList.add('opacity-0', 'scale-75');
            }
        }
    };
    
    const initializeLang = () => {
        const savedLang = localStorage.getItem('lang');
        let currentLang = savedLang || document.documentElement.lang || 'tr'; 
        setLanguage(currentLang);
    };

    // DOM YÃ¼klendiÄŸinde
    document.addEventListener('DOMContentLoaded', function() {
        initializeTheme('theme_builder'); 
        initializeLang();
        
        // Dil MenÃ¼sÃ¼
        const languageSelector = document.getElementById('languageSelector');
        const languageButton = document.getElementById('languageButton');
        const languageDropdown = document.getElementById('languageDropdown');
        const languageOptions = languageDropdown.querySelectorAll('.language-option');
        const darkModeButton = document.getElementById('darkModeButton');
        
        const hideDropdown = () => { languageDropdown.classList.add('hidden'); };
        const showDropdown = () => { languageDropdown.classList.remove('hidden'); };
        languageButton.addEventListener('click', function(event) {
            event.stopPropagation();
            if (languageDropdown.classList.contains('hidden')) { showDropdown(); } else { hideDropdown(); }
        });
        languageSelector.addEventListener('mouseleave', function() { hideDropdown(); });
        document.addEventListener('click', function(event) {
            if (!languageSelector.contains(event.target)) { hideDropdown(); }
        });
        languageOptions.forEach(option => {
            option.addEventListener('click', function(e) {
                e.preventDefault();
                const selectedLang = this.getAttribute('data-lang');
                setLanguage(selectedLang);
                hideDropdown();
            });
        });

        if (darkModeButton) {
            darkModeButton.addEventListener('click', toggleDarkMode);
        }
        
        const expertButton = document.getElementById('expertOpinionButton');
        if (expertButton) {
            expertButton.addEventListener('click', getExpertOpinion);
        }
        const formControls = document.querySelectorAll('#cpu, #motherboard, #ram, #psu, #new-component-type, #new-component');
        formControls.forEach(control => {
            control.addEventListener('change', checkExpertButtonStatus);
        });
        checkExpertButtonStatus();

        // --- GÄ°RÄ°Åž / Ã‡IKIÅž & PROFÄ°L YÃ–NETÄ°MÄ° ---
        const loginButton = document.getElementById('login-button');
        const signupButton = document.getElementById('signup-button');
        const accountSection = document.getElementById('account-section');
        const profileButton = document.getElementById('account_circle');
        const profileDropdown = document.getElementById('profileDropdown');
        const welcomeUsername = document.getElementById('welcome-username');
        const logoutButton = document.getElementById('logout-button');
        
        const loggedInUser = localStorage.getItem('loggedInUser');

        if (loggedInUser) {
            if (loginButton) loginButton.style.display = 'none';
            if (signupButton) signupButton.style.display = 'none';
            if (accountSection) {
                accountSection.classList.remove('hidden'); 
                accountSection.classList.add('flex');
            }
            if (welcomeUsername) welcomeUsername.textContent = loggedInUser;
        } else {
            if (loginButton) loginButton.style.display = 'flex';
            if (signupButton) signupButton.style.display = 'flex';
            if (accountSection) accountSection.classList.add('hidden');
        }

        if (profileButton && profileDropdown) {
            profileButton.addEventListener('click', function(event) {
                event.stopPropagation();
                profileDropdown.classList.toggle('hidden');
            });
        }

        document.addEventListener('click', function(event) {
            if (profileDropdown && !profileDropdown.classList.contains('hidden') && !accountSection.contains(event.target)) {
                profileDropdown.classList.add('hidden');
            }
        });

        // --- MODERN Ã‡IKIÅž YAP (SWEETALERT) ---
        if (logoutButton) {
            logoutButton.addEventListener('click', function(e) {
                e.preventDefault(); 
                
                Swal.fire({
                    title: 'Ã‡Ä±kÄ±ÅŸ YapÄ±lÄ±yor...',
                    text: 'Oturumunuz gÃ¼venli bir ÅŸekilde kapatÄ±lÄ±yor. Tekrar bekleriz!',
                    icon: 'success',
                    background: '#1f2937', 
                    color: '#fff',
                    showConfirmButton: false,
                    timer: 1000,
                    timerProgressBar: true
                }).then(() => {
                    localStorage.removeItem('loggedInUser');
                    window.location.reload(); 
                });
            });
        }
    });

    // ==========================================
    // YENÄ° EKLENEN KISIM: VERÄ° VE SEÃ‡Ä°M MOTORU
    // ==========================================

    const API_BASE_URL = "https://pcpartsbuild.com"; // Senin API adresin

    // Backend Controller Ä°simleri ile HTML ID EÅŸleÅŸmesi
    const endpoints = {
        cpu: 'processors',
        motherboard: 'motherboards',
        ram: 'rams',
        gpu: 'gpus',
        storage: 'storages',
        case: 'cases',
        psu: 'psus',
        cpuCooler: 'cpuCoolers'
    };

    // KullanÄ±cÄ±nÄ±n SeÃ§tiÄŸi ParÃ§alar (HafÄ±za)
    let selectedParts = {
        cpu: null,
        motherboard: null,
        ram: null,
        gpu: null,
        storage: null,
        case: null,
        psu: null,
        cpuCooler: null
    };

    /**
     * 1. Sayfa YÃ¼klendiÄŸinde TÃ¼m Verileri Ã‡ek
     */
    async function initializeData() {
        console.log("ðŸš€ Veri motoru baÅŸlatÄ±lÄ±yor...");
        
        // Object.keys(endpoints) -> ['cpu', 'motherboard', ...]
        for (const category of Object.keys(endpoints)) {
            await loadComponentData(category);
        }
    }

    /**
     * 2. Veriyi Getir (Ã–nce Cache, Yoksa API)
     */
    async function loadComponentData(category) {
        const cacheKey = `puk_cache_${category}`;
        const cachedData = localStorage.getItem(cacheKey);
        const CACHE_DURATION = 5 * 60 * 1000; // 5 Dakika

        // Dropdown elementini bul
        const selectElement = document.getElementById(category);
        if (!selectElement) return;

        // YÃ¼kleniyor yazÄ±sÄ± ekle
        const loadingOption = document.createElement('option');
        loadingOption.text = "Veriler yÃ¼kleniyor...";
        loadingOption.disabled = true;
        selectElement.add(loadingOption);

        try {
            let data = null;
            let isFresh = false;

            // Cache KontrolÃ¼
            if (cachedData) {
                const parsed = JSON.parse(cachedData);
                if (Date.now() - parsed.timestamp < CACHE_DURATION) {
                    data = parsed.data;
                    isFresh = true;
                    // console.log(`ðŸ“¦ ${category} Ã¶nbellekten alÄ±ndÄ±.`);
                }
            }

            // Cache yoksa veya eskiyse API'ye git
            if (!isFresh) {
                // console.log(`ðŸ“¡ ${category} iÃ§in sunucuya gidiliyor...`);
                const response = await axios.get(`${API_BASE_URL}/api/${endpoints[category]}`);
                data = response.data;

                // Yeni veriyi kaydet
                localStorage.setItem(cacheKey, JSON.stringify({
                    timestamp: Date.now(),
                    data: data
                }));
            }

            // Dropdown'Ä± doldur
            populateDropdown(selectElement, data, category);

        } catch (error) {
            console.error(`âŒ ${category} yÃ¼klenemedi:`, error);
            loadingOption.text = "Hata: Veri alÄ±namadÄ±";
        }
    }

    /**
     * 3. Dropdown Ä°Ã§ini Doldurma
     */
    function populateDropdown(selectElement, data, category) {
        // Ã–nce "YÃ¼kleniyor" yazÄ±sÄ±nÄ± ve varsa eski verileri temizle
        // Ama ilk seÃ§enek olan "SeÃ§im YapÄ±nÄ±z..." kalsÄ±n (index 0)
        while (selectElement.options.length > 1) {
            selectElement.remove(1);
        }

        if (!data || data.length === 0) return;

        data.forEach(item => {
            const option = document.createElement('option');
            option.value = item.id; // Backend ID'si
            
            // Modele gÃ¶re ekranda ne yazacak?
            // Ã‡oÄŸu modelde Brand + ModelName var.
            let displayName = `${item.brand || ''} ${item.modelName || ''}`.trim();
            
            // EÄŸer Ã¶zel bir durum varsa (Ã–rn: Kapasite eklemek istersen)
            if (category === 'storage') displayName += ` (${item.capacity} GB)`;
            if (category === 'psu') displayName += ` (${item.wattage}W)`;

            option.text = displayName;
            
            // TÃ¼m parÃ§a verisini option elementine gizle (Ä°leride uyumluluk kontrolÃ¼ iÃ§in lazÄ±m olacak)
            option.dataset.fullData = JSON.stringify(item);
            
            selectElement.add(option);
        });
    }

    /**
     * 4. KullanÄ±cÄ± SeÃ§im YaptÄ±ÄŸÄ±nda (GÃ¶rsel DeÄŸiÅŸim)
     */
    function handleSelectionChange(event) {
        const category = event.target.id;
        const selectedId = event.target.value;
        const card = event.target.closest('.component-card'); // KartÄ±n kendisi

        // Hata mesajÄ±nÄ± gizle (Yeni seÃ§im yapÄ±nca hata silinsin)
        const errorText = document.getElementById(`error-${category}`);
        if(errorText) errorText.classList.add('hidden');

        if (selectedId) {
            // --- SEÃ‡Ä°M YAPILDI ---
            
            // 1. Veriyi HafÄ±zaya Al
            // SeÃ§ilen option'Ä±n iÃ§indeki gizli data'yÄ± alÄ±yoruz
            const selectedOption = event.target.options[event.target.selectedIndex];
            if (selectedOption.dataset.fullData) {
                selectedParts[category] = JSON.parse(selectedOption.dataset.fullData);
            }

            // 2. GÃ¶rseli GÃ¼ncelle (Aktif Kart)
            if (card) {
                card.classList.remove('border-dashed', 'border-gray-300', 'dark:border-gray-700');
                card.classList.add('border-solid', 'border-primary', 'shadow-md');
                // ArkaplanÄ± hafif renklendir
                card.classList.add('bg-blue-50/50', 'dark:bg-blue-900/10');
            }

        } else {
            // --- SEÃ‡Ä°M Ä°PTAL EDÄ°LDÄ° ---
            selectedParts[category] = null;

            // GÃ¶rseli Eski Haline Getir
            if (card) {
                card.classList.add('border-dashed', 'border-gray-300', 'dark:border-gray-700');
                card.classList.remove('border-solid', 'border-primary', 'shadow-md');
                card.classList.remove('bg-blue-50/50', 'dark:bg-blue-900/10');
            }
        }
        
        console.log("Mevcut Sistem:", selectedParts); // Konsoldan takip edebilirsin
    }

    // --- BAÅžLATMA ---
    // Sayfa yÃ¼klendiÄŸinde Ã§alÄ±ÅŸacaklar
    document.addEventListener('DOMContentLoaded', () => {
        
        // 1. Verileri Ã‡ek
        initializeData();

        // 2. Event Listener'larÄ± Ekle (Her kutu deÄŸiÅŸtiÄŸinde)
        const dropdowns = document.querySelectorAll('select');
        dropdowns.forEach(dropdown => {
            // Sadece bizim parÃ§a kutularÄ±mÄ±z ise (id'si endpoints iÃ§inde varsa)
            if (endpoints[dropdown.id]) {
                dropdown.addEventListener('change', handleSelectionChange);
            }
        });
    });

    // ==========================================
    // SEÃ‡Ä°M MOTORU BÄ°TÄ°Åž
    // ==========================================
</script>
</body>
</html>